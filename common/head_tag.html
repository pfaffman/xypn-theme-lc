<script type='text/discourse-plugin' version='0.1'>
    api.onToolbarCreate(function(toolbar) {
      toolbar.addButton({
        id: "underline",
        group: "fontStyles",
        icon: "underline",
        perform: e => e.applySurround('[u]', '[/u]', { multiline: false } )
      });
      toolbar.addButton({
        id: "strikethrough",
        group: "fontStyles",
        icon: "strikethrough",
        perform: e => e.applySurround('[s]', '[/s]', { multiline: false } )
      });
    });
    api.registerConnectorClass('below-site-header', 'xypn-header', {
        setupComponent(args, component) {
            component.set('xypn_header_title', settings.xypn_header_title);
            component.set('xypn_header_description', settings.xypn_header_description);
            component.set('xypn_header_nav_text_1', settings.xypn_header_nav_text_1);
            component.set('xypn_header_nav_text_2', settings.xypn_header_nav_text_2);
            component.set('xypn_header_nav_text_3', settings.xypn_header_nav_text_3);
            component.set('xypn_header_nav_text_4', settings.xypn_header_nav_text_4);
            component.set('xypn_header_nav_text_5', settings.xypn_header_nav_text_5);
            component.set('xypn_header_nav_link_1', settings.xypn_header_nav_link_1);
            component.set('xypn_header_nav_link_2', settings.xypn_header_nav_link_2);
            component.set('xypn_header_nav_link_3', settings.xypn_header_nav_link_3);
            component.set('xypn_header_nav_link_4', settings.xypn_header_nav_link_4);
            component.set('xypn_header_nav_link_5', settings.xypn_header_nav_link_5);
	        const router = api.container.lookup('router:main');
            router.on('willTransition', () => {
                component.set('displayBanner', false);
            });
            api.onPageChange((url, title) => {
                if (url == "/") {
                    $('html').addClass('banner-visible');
	                component.set("displayBanner", true);
                }
                else {
                    $('html').removeClass('banner-visible');
                }
	        });
        }
    });
</script>

<script type='text/x-handlebars' data-template-name='/connectors/topic-above-post-stream/navigation'>
    {{#unless site.mobileView}}
        {{d-navigation
            filterMode=""}}
    {{/unless}}
</script>

<script type='text/x-handlebars' data-template-name='/connectors/below-site-header/xypn-header'>
{{#if displayBanner}}
    <div class="banner">
            <h1>{{xypn_header_title}}</h1>
            <p class="banner-description">{{xypn_header_description}}</p>
            <p>
                {{#if xypn_header_nav_text_1}}
                    <a href="{{xypn_header_nav_link_1}}" target="_blank">{{xypn_header_nav_text_1}}</a>
                {{/if}}
                {{#if xypn_header_nav_text_2}}
                    <a href="{{xypn_header_nav_link_2}}" target="_blank">{{xypn_header_nav_text_2}}</a>
                {{/if}}
                {{#if xypn_header_nav_text_3}}
                    <a href="{{xypn_header_nav_link_3}}" target="_blank">{{xypn_header_nav_text_3}}</a>
                {{/if}}
                {{#if xypn_header_nav_text_4}}
                    <a href="{{xypn_header_nav_link_4}}" target="_blank">{{xypn_header_nav_text_4}}</a>
                {{/if}}
                {{#if xypn_header_nav_text_5}}
                    <a href="{{xypn_header_nav_link_5}}" target="_blank">{{xypn_header_nav_text_5}}</a>
                {{/if}}
            </p>
    </div>
    {{plugin-outlet name="header-engagement-pathway"}}
{{/if}}

</script>

<script type='text/x-handlebars' data-template-name='/connectors/below-footer/xypn-footer'>
{{plugin-outlet name="header-topic-lists"}}
<div class="xypn-footer-wrapper">
    <div class="wrap">
        <div class="footer-content">
            <div class="column">
                <ul>
                    <li><a href="http://info.xyplanningnetwork.com/share-your-media-mention">Share a Media Mention</a></li>
                    <li><a href="http://live.xyplanningnetwork.com/">#XYPNLIVE</a></li>
                    <li><a href="http://xyplanningnetwork.wufoo.com/forms/z1g6km218ki3jc/">Kitces Report Opt In</a></li>
                    <li><a href="https://support.xyinvestmentsolutions.com/hc/en-us">XYIS Knowledge Base</a></li>
                    <li><a href="https://fabeancounters.com/">FA Bean Counters</a></li>
                </ul>
            </div>
            <div class="column">
                <ul>
                    <li><a href="https://info.xyplanningnetwork.com/change-email-address">Change Email Address</a></li>
                    <li><a href="https://info.xyplanningnetwork.com/change-email-address">Change Mailing Address</a></li>
                    <li><a href="https://xyplanningnetwork.wufoo.com/forms/qq9aknu0e3kijv/">Update Find An Advisor Profile</a></li>
                    <li><a href="http://info.xyplanningnetwork.com/share-your-blog">Share Your Blog Posts</a></li>
                    <li><a href="http://xyplanningnetwork.com/meet-up-host">Host a Member Meet Up</a></li>
                </ul>
            </div>
            <div class="column">
                <ul>
                    <li><a href="https://xyplanningnetwork.wufoo.com/forms/m38ifga0ujc48p/">Join a Study Group</a></li>
                    <li><a href="https://xyplanningnetwork.wufoo.com/forms/x1yup8s60h32n39/">Bob Veres Opt In</a></li>
                    <li><a href="https://community.xyplanningnetwork.com/t/xy-e-o-insurance/14356">E&O Insurance</a></li>
                    <li><a href="http://info.xyplanningnetwork.com/share-your-photos">Share Your Photo(s)</a></li>
                    <li><a href="https://share.hsforms.com/1YTiAqGJhQ9WL2uPbkDb4SQ1crrf">Diversity Committee Think Tank</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
</script>


